<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Â¿Quieres ser mi San ValentÃ­n? ğŸ’•</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #3a78d8 0%, #6a9cff 40%, #a1c4fd 100%);
      color: #333;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      overflow: hidden;
      position: relative;
    }
    .container {
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 25px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      max-width: 520px;
      z-index: 10;
    }
    h1 {
      color: #2c3e50;
      font-size: 2.8em;
      margin: 0 0 15px;
    }
    p.pregunta {
      font-size: 1.6em;
      margin: 20px 0 30px;
      color: #34495e;
    }
    button {
      font-size: 1.5em;
      padding: 18px 50px;
      margin: 15px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.4s;
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    }
    #si {
      background: #27ae60;
      color: white;
    }
    #si:hover {
      background: #219653;
      transform: scale(1.15) rotate(5deg);
    }
    #no {
      background: #e74c3c;
      color: white;
    }
    #no:hover {
      background: #c0392b;
      transform: translateY(-8px);
    }
    #mensaje {
      margin-top: 35px;
      font-size: 1.8em;
      font-weight: bold;
      opacity: 0;
      transition: opacity 1s;
      color: #2980b9;
    }
    #countdown {
      font-size: 1.4em;
      margin: 20px 0;
      color: #2980b9;
      font-weight: bold;
    }
    .heart {
      position: absolute;
      font-size: 2.8em;
      color: #e74c3c;
      pointer-events: none;
      animation: float 8s linear infinite;
      opacity: 0.92;
    }
    @keyframes float {
      0% { transform: translateY(120vh) rotate(0deg); opacity: 0.92; }
      100% { transform: translateY(-50vh) rotate(1440deg); opacity: 0; }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</head>
<body>
  <div id="hearts"></div>

  <div class="container">
    <h1>Mi amor precioso ğŸ’–</h1>
    <p class="pregunta">Â¿Quieres salir conmigo este 14 de febrero? ğŸ¥°ğŸŒ¹</p>
    <div id="countdown"></div>
    <div class="buttons">
      <button id="si">SÃ ğŸ˜ğŸ’•</button>
      <button id="no">No... ğŸ˜”</button>
    </div>
    <div id="mensaje"></div>
  </div>

  <script>
    emailjs.init("QkUzDmNYXE7ZUyLO2");

    let heartInterval = null;

    // FunciÃ³n para crear corazones
    function createHeart() {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerHTML = Math.random() > 0.6 ? 'â¤ï¸' : (Math.random() > 0.5 ? 'ğŸ’™' : 'ğŸ’œ');
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (Math.random() * 4 + 5) + 's';
      heart.style.fontSize = (2.5 + Math.random() * 1.5) + 'em';
      document.getElementById('hearts').appendChild(heart);
      setTimeout(() => heart.remove(), 12000);
    }

    // Iniciar corazones normales al cargar (cada 150ms)
    heartInterval = setInterval(createHeart, 150);

    // Cuenta regresiva
    const valentinesDay = new Date('2026-02-14T00:00:00').getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = valentinesDay - now;
      if (distance < 0) {
        document.getElementById('countdown').innerHTML = "Â¡Ya es 14 de febrero! ğŸ’";
        return;
      }
      const d = Math.floor(distance / (1000*60*60*24));
      const h = Math.floor((distance % (1000*60*60*24)) / (1000*60*60));
      const m = Math.floor((distance % (1000*60*60)) / (1000*60));
      const s = Math.floor((distance % (1000*60)) / 1000);
      document.getElementById('countdown').innerHTML = `Faltan ${d} dÃ­as, ${h}h ${m}min ${s}seg ğŸ’•`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    const siBtn = document.getElementById('si');
    const noBtn = document.getElementById('no');
    const mensaje = document.getElementById('mensaje');

    siBtn.addEventListener('click', () => {
      mensaje.innerHTML = 'Â¡SÃIIII! ğŸ¥³ğŸ’– Te amo con todo mi corazÃ³n â¤ï¸ PrepÃ¡rate para el mejor dÃ­a';
      mensaje.style.opacity = '1';

      // Confetti
      const duration = 7000;
      const end = Date.now() + duration;
      const colors = ['#1e90ff', '#2ecc71', '#9b59b6', '#f1c40f', '#e74c3c'];

      (function frame() {
        confetti({
          particleCount: 10,
          angle: 60,
          spread: 70,
          origin: { x: 0 },
          colors: colors
        });
        confetti({
          particleCount: 10,
          angle: 120,
          spread: 70,
          origin: { x: 1 },
          colors: colors
        });
        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();

      // Aumentar intensidad de corazones al presionar SÃ (99ms)
      clearInterval(heartInterval);
      heartInterval = setInterval(createHeart, 99);

      // DespuÃ©s de 8 segundos, volver a intensidad normal (150ms)
      setTimeout(() => {
        clearInterval(heartInterval);
        heartInterval = setInterval(createHeart, 150);
      }, 8000);

      // Enviar email
      emailjs.send('service_0ap3wg7', 'template_hw2qaz6', {
        fecha: new Date().toLocaleString('es-ES')
      })
        .then(() => console.log('Email enviado correctamente'))
        .catch(err => console.error('Error en email:', err));
    });

    noBtn.addEventListener('click', () => {
      noBtn.style.position = 'absolute';
      noBtn.style.left = Math.random() * 85 + 'vw';
      noBtn.style.top = Math.random() * 85 + 'vh';
      const frases = ['Â¿Segura? ğŸ˜­', 'Nooooo porfi ğŸ¥º', 'Piensa bien... â¤ï¸', 'Uy casi! ğŸ˜'];
      noBtn.innerText = frases[Math.floor(Math.random() * frases.length)];
    });
  </script>
</body>
</html>
